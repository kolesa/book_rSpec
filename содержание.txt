Ian Dees, Software Engineer

 The  RSpec  Book Behaviour-Driven Development with RSpec, Cucumber, and Friends

David Chelimsky

with Dave Astels 
Zach Dennis 
Aslak Hellesoy
Bryan Helmkamp
Dan North

The  Pragmatic  Bookshelf

Raleigh, North Carolina  Dallas, Texas

Многие из обозначений, используемых изготовителями и продавцами, чтобы отличить их продукты, требуются как торговые марки. Где те обозначения появляются в этой книге, и Прагматически настроенных Программистах, LLC знал о требовании торговой марки, обозначения были напечатаны в начальных заглавных буквах или во всех капиталах. Прагматически настроенный Комплект Стартера, Прагматически настроенный Программист, Прагматическое Программирование, Прагматическая Книжная полка и связавшееся устройство г - торговые марки Прагматически настроенных Программистов, LLC.

Каждая предосторожность была взята в подготовке этой книги. Однако, издатель не принимает ответственности за ошибки или упущения, или за убытки, которые могут следовать из использования информации (включая списки программы) содержавшийся здесь.

Наши Прагматические курсы, семинары, и другие продукты могут помочь Вам, и Ваши команды создают лучшее программное обеспечение и имеют больше забавы. За дополнительной информацией, так же как последние Прагматические названия, пожалуйста посетите нас в http://www.pragprog.com.

The team that produced this book includes:
Editor: Jacquelyn Carter
Indexing: Potomac Indexing, LLC 
Copy edit: Kim Wimpsett
Layout:  Steve Peter 
Production:Janet Furlow 
Customer support: llie Callahan 
International: Juliet Benda

Copyright  ©  2010  David  Chelimsky,  Dave  Astels,  Zach  Dennis,  Aslak  Hellesoy,  Bryan Helmkamp, and Dan North. 

All rights reserved.

Никакая часть этой публикации не может быть воспроизведена, сохранена в поисковой системе, или передать - ворошат, в любой форме, или каким-либо образом, электронные, механические, фотокопирование, регистрация, или иначе, без предшествующего согласия издателя.

Напечатанный в Соединенных Штатах Америки.

ISBN-10: 1-934356-37-9
ISBN-13: 978-1-934356-37-1
Printed on acid-free paper. P1.0 printing, December 2010
Version: 2010-11-24

Содержание 

Предисловие 11

Об Авторах 14

Подтверждения 16

Предисловие 18

Рубин и Версии Драгоценного камня 18
Разгрузка Кодовых Примеров 19
Что находится в Этой Книге 19


Я Начинающий с RSpec и Огурцом 21

1 Введение 22
1.1 Делавшее пробную поездку Развитие: Где Все это Началось. 22
1.2 Поведение управляемое Развитие: Следующий Шаг. 24
1.3 RSpec 25
1.4 Огурец 26
1.5 Цикл BDD 28

2 Привет 30
2.1 Установка 30
2.2 Привет RSpec 31
2.3 Привет Огурец 33

3 Описания Особенностей 37
3.1 Представление Дешифровщика 38
3.2 Планирование Первого Выпуска 38
3.3 Планирование Первого Повторения 44
3.4 Что Мы Изучили 52

4 Особенности Автоматизации с Огурцом 53
4.1 Шаги и Определения Шага 55
4.2 Методы Определения Шага 56
4.3 Тест Двойные 60
4.4 Что Мы Изучили 62

5 Описаний Кодекса с RSpec 63
5.1 Начинание с RSpec 63
5.2 Красный: Начните с Кодового Примера Провала попытки 66
5.3 Зеленый: Заставьте Пример Проходить 68
5.4 Перефактор 72
5.5 Что Мы Изучили 76

6 Добавляющих Новых Особенностей 77
6.1 Схемы Сценария в Огурце 77
6.2 Отвечание на Изменение 80
6.3 Что Мы Изучили 83

7 Определений Алгоритма 84
7.1 Начните с Самого простого Примера 84
7.2 Перефактор, чтобы Удалить Дублирование 88
7.3 Перефактор, чтобы Выразить Поглощенные 89
7.4 Что Мы Изучили 94

8 Перефакторингов с Уверенностью 96
8.1 Пронюхивание Кодовых Запахов 96
8.2 Один Шаг за один раз 98
8.3 Обновление Specs После Перефакторинга 107
8.4 Исследовательское Тестирование 111
8.5 Что Мы Изучили 112

9 Возвращений, Что Мы Изучили 114
9.1 Огурец Использования для Сотрудничества 114
9.2 Экспериментирование с Новым Выполнением 118
9.3 Что Мы Изучили 122

II Управляемых поведением Развитий 124

10 случай для BDD 125
10.1 Как Традиционные Проекты Терпят неудачу 125
10.2 Почему Традиционные Проекты Терпят неудачу 126
10.3 Пересмотр Проблемы 130
10.4 Стоимость Идущих Проворных 133
10.5 Что Мы Изучили 136

11 Программных обеспечений Письма, Который Дела 138
11.1 Описание BDD 138
11.2 Принципы BDD 138
11.3 Проектное Начало 139
11.4 Цикл Поставки 141
11.5 Что находится в Истории? 145
11.6 Что Мы Изучили 148

III RSpec 149

12 Кодовых Примеров 150
12.1 Опишите Это! 151
12.2 Ожидание Примеров 155
12.3 Крюки: Прежде, После, и приблизительно 158
12.4 Методы Помощника 162
12.5 Разделенные Примеры 164
12.6 Вложенные Группы Примера 166
12.7 Что Мы Изучили 169

13 RSpec:: Ожидания 170
13.1 если, should_not, и matchers 171
13.2 Встроенный Matchers 172
13.3 Предикат Matchers 180
13.4 Будьте Верны в Глазах Рубиновых 181
13.5 Имейте то, Что Вы Любите 182
13.6 Выражения Оператора 186
13.7 Произведенные Описания 187
13.8 Субъективность 188
13.9 Что Мы Изучили 190


14 RSpec:: Насмешки 191
14.1 Тест Удваивается. 192
14.2 Окурки Метода 193
14.3 Ожидания Сообщения 195
14.4 Определенные для теста Расширения 197
14.5 Больше на Окурках Метода 201
14.6 Больше на Ожиданиях Сообщения 203
14.7 Когда Использовать Тест Удваивается и Определенные для теста Расширения 213
14.8 Риски и Обмены 218
14.9 Выбор Другого Теста Двойные Структуры 220
14.10, Что Мы Изучили 222

15 Инструментов и Интеграция 224
15.1 Команда rspec 224
15.2 TextMate 229
15.3 Автотест 230
15.4 Грабли 230
15.5 RCov 232
15.6 Что Мы Изучили 233

16 Распространения RSpec 234
16.1 Metadata 234
16.2 Конфигурация 235
16.3 Фильтрование 235
16.4 Модули Расширения 238
16.5 Глобальные Крюки 239
16.6 Ложная Структура 239
16.7 Таможенный Matchers 240
16.8 Макроопределение 244
16.9 Таможенный Formatters 247
16.10, Что Мы Изучили 250


IV Огурцов 251

17 Введений к Огурцу 252
17.1 От 20 000 футов 253
17.2 Особенности 253
17.3 Приемочные испытания Клиента 257
17.4 Корнишон 257
17.5 Сценарии 259
17.6 Шаги 260
17.7 Огуречная Команда 261
17.8 Given/When/Then 262
17.9 Декларативные и Обязательные Стили Сценария 263
17.10 Особенностей Организации 264
17.11 Признаков 265
17.12, Что Мы Изучили 267

18 Огуречных Деталей 269
18.1 Определения Шага 269
18.2 Мир 271
18.3 Запрос Шагов В пределах Определений Шага 272
18.4 Крюки 273
18.5 Фон 275
18.6 Многострочный Текст 276
18.7 Столы в Шагах 277
18.8 Схемы Сценария 278
18.9 Конфигурация 280
18.10, Что Мы Изучили 280


V Управляемых поведением Рельсов 282

19 BDD в Рельсах 283
19.1 Снаружи - В Развитии Рельсов 284
19.2 Настраивание Рельсов 3 Проекта 286
19.3 Настраивание Рельсов 2 Проекта 289
19.4 Что Мы Изучили 289

20 Огурцов с Рельсами 290
20.1 Стили Определения Шага 290
20.2 Прямой Образцовый Доступ 292
20.3 Что Мы Изучили 297

21 Моделирование Браузера с Webrat 298
21.1 Письмо Моделируемых Определений Шага Браузера 299
21.2 Проведение к Страницам 304
21.3 Управление Формами 308
21.4 Определение Результатов с Представлением Matchers 313
21.5 Построение на Основах 316
21.6 Что Мы Изучили 319
 
22 Автоматизации Браузера с Webrat и Селеном 320
22.1 Начиная 321
22.2 Письмо Определений Шага для Селена 324
22.3 Отладка Проблем Селена 328
22.4 Что Мы Изучили 330

23 Представления Рельсов 331
23.1 Письмо Представления Specs 331
23.2 Насмешка Моделей 334
23.3 Определение Помощников 341
23.4 Когда я должен Написать Представлению Specs? 343
23.5 Что Мы Изучили 343

24 Диспетчера Рельсов 345
24.1 Диспетчер Specs 345
24.2 Определенные для контекста Примеры 352
24.3 Определение ApplicationController 361
24.4 Что Мы Изучили 363

25 Моделей Рельсов 365
25.1 Письмо Образцового Specs 365
25.2 Определение Деловых Правил 373
25.3 Осуществление 382
25.4 Полезные Лакомые кусочки 383
25.5 Что Мы Изучили 386

A RubySpec 388
A.1 Проект 389
A.2 Синтаксис 389
A.3 Охранники 391
A.4 Расширяемость 392
A.5 MSpec 394
A.6 Признаки 394
A.7 Сообщество 395

B Встроенные Ожидания RSPEC 397

C Библиография 401

Индекс 403